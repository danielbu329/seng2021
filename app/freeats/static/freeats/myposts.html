<div class="my-posts-header">
  <img src="/static/freeats/logo_side.png">
</div>
<div class="my-posts-content">
  <p>
    <img ng-src="https://graph.facebook.com/v2.5/{{$root.fbUserId}}/picture?type=large">
  </p>
  <p>
    <a href="/freeats" class="btn btn-default">
      <span class="glyphicon glyphicon-tasks" aria-hidden="true"></span>
      Find food
    </a>
    <button class="btn btn-success">
      <span class="glyphicon glyphicon-wrench" aria-hidden="true"></span>
      Settings
    </button>
  </p>
  <div class="box">
    <h1>Posts</h1>
    <div ng-show="myPosts.length == 0" class="alert alert-info" role="alert">
      <p>
        You haven't posted any free food posts yet.
      </p>
      <p>
        Keep on the look out for free food around campus and post them to FREEATS!
      </p>
    </div>
    <table class="table">
      <tbody>
        <tr class="post" ng-repeat="post in myPosts">
          <td>
            <h4 class="truncate">
              {{post.title}} - <span>{{post.description}}</span>
            </h4>
          </td>
          <td>
            <button class="btn btn-default">
              <span class="glyphicon glyphicon-ok" aria-hidden="true"></span>
              Finished
            </button>
            <button class="btn btn-default" ng-click="editPost(post.id)">
              <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
              Edit
            </button>
            <button class="btn btn-danger">
              <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
              Delete
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
<div class="top-right">
  <div class="dropdown" ng-show="$root.loggedIn">
    <img class="profile-icon" ng-src="https://graph.facebook.com/v2.5/{{$root.fbUserId}}/picture"
          id="userDropdown" data-toggle="dropdown">
    <ul class="dropdown-menu pull-right" aria-labelledby="userDropdown">
      <li><a href="/freeats/me">My Posts</a></li>
      <li><a href="/freeats/settings">Settings</a></li>
      <li><a href="" ng-click="$root.logoutFacebook()">Logout</a></li>
    </ul>
  </div>
  <div class="facebook-login" ng-show="!$root.loggedIn">
    <button class="btn btn-facebook" ng-click="$root.loginFacebook()">
      <img src="https://www.facebookbrand.com/img/assets/asset.f.logo.lg.png">
      Log in with Facebook
    </button>
  </div>
</div>

<div id="editPostModal" class="modal fade">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close"
          data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
        <h4 class="modal-title">Edit Post</h4>
      </div>
      <form class="form-horizontal" role="form" ng-submit="updatePost()">
        <div class="modal-body">
          <div class="form-group">
            <label class="control-label col-sm-3" for="title">Title:</label>
            <div class="col-sm-9">
              <input type="text" class="form-control" id="title" ng-model="post.title">
            </div>
          </div>
          <div class="form-group">
            <label class="control-label col-sm-3" for="location">Location:</label>
            <div class="col-sm-9">
              <input type="text" class="form-control" id="location" ng-model="post.location">
            </div>
          </div>
          <div class="form-group">
            <label class="control-label col-sm-3" for="description">Description:</label>
            <div class="col-sm-9">
              <textarea class="form-control" rows="5" id="description"
                ng-model="post.description"></textarea>
            </div>
          </div>
          <div class="form-group">
            <label class="control-label col-sm-3" for="image-upload">Upload Image:</label>
            <div class="col-sm-9">
              <input type="file" id="image-upload" ng-model="post.image">
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default"
            data-dismiss="modal">
              Close
          </button>
          <input type="submit" value="Save post" class="btn btn-primary pull-right" />
        </div>
      </form>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->